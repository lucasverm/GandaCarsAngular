<div class="row">
  <div class="col-8">
    <h1>Dienst overzicht:</h1>
  </div>
  <div class="col-4">
    <a class="float-right btn btn-primary marginTop10" [routerLink]="['/dienst-toevoegen']"
      id="buschauffeurtoevoegen">
      <i class="fa fa-fw fa-plus-circle"></i>
      <span class="d-none d-sm-inline"> Dienst toevoegen</span></a>
  </div>
  <div class="col-12">
    <div class="alert alert-success marginTop10" role="alert" [hidden]="successMessage == null">
      {{successMessage}}
    </div>
    <div class="alert alert-danger marginTop10" role="alert" [hidden]="errorMessage == null">
      {{errorMessage}}
    </div>
  </div>
  <div class="col-12">

    <table class="table">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Naam</th>
          <th scope="col">Vanaf</th>
          <th scope="col">Tot</th>
          <th scope="col">Chauffeur</th>
          <th scope="col">Acties</th>
        </tr>
      </thead>
      <ng-container *ngIf="!loadingDiensten; else loadingItemsError">
        <tbody>
          <tr *ngFor="let item of diensten; let index = index">
            <th (click)="redirectTo(item)">{{index + 1}}</th>
            <td (click)="redirectTo(item)">{{item.naam}}</td>
            <td (click)="redirectTo(item)">{{item.startDag.naam }} - {{item.startUur | date: "hh:mm" }}</td>
            <td (click)="redirectTo(item)">{{item.eindDag.naam }} - {{item.eindUur | date: "hh:mm" }}</td>
            <td (click)="redirectTo(item)">{{item.busChauffeur.voornaam}} {{item.busChauffeur.achternaam}}</td>
            <td>Wijzigen | Verwijderen</td>
          </tr>
        </tbody>
      </ng-container>
    </table>
  </div>
</div>

<ng-template #loadingItemsError>
  <tr>
    <td colspan="6" class="text-center">
      <div class="spinner-border spinner" role="status">
        <span class="sr-only">Loading...</span>
      </div>
    </td>
  </tr>
</ng-template>
